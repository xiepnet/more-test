<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<meta name="keywords" content="" />
<meta name="description"  content="" />
<title>前端css规范</title>
<link type="text/css" rel="stylesheet" href="style/style.css" />
</head>
<body>
	<div class="header">
		<h1>Wxd 前端规范</h1>
	</div>
	<div class="wrapper">
		<div class="menu">
			<ul>
				<li class="current">Html规范</li>
				<li>Css规范</li>
				<li>目录和文件命名规范</li>
				<li>项目流程</li>
				<li><a href="mailto:p_xie@ctrip.com?cc=leiguo@Ctrip.com&Wxd前端规范反馈建议=Subject&body=请填写建议：">联系我们3</a></li>
			</ul>
		</div>
		<div class="main" style="display:block;">
			<dl>
				<dt>Html基础结构</dt>
				<dd>
					<p>Html文件首行以Html5 DTD："<em>&lt;!DOCTYPE HTML&gt;</em>" 开始</p>
					<p>同时Html页面必须申明文档的编码格式为<em>&lt;meta charset="utf-8"/&gt;</em>，文件本身编码也应保存为<em>UTF-8无BOM格式</em>。</p>
					<p>Html页面<em>Title</em>需填写当前页面相关内容，或与设计稿命名相同，同时可根据页面内容和需求填写<em>keywords</em>和<em>description</em>或留空。</p>
				</dd>
				<dt>结构、表现、行为分离</dt>
				<dd>
					<p>相关Html的css都写在相应的css文件中，文件通过<em>link</em>标签引入，并置于<em>head中</em>，<em>避免在Html中使用内嵌或者行内样式</em>，特殊情况除外。</p>
					<p>js文件通过<em>script</em>标签引入，并置于<em>body底部</em>。</p>
				</dd>
				<dt>Html书写规范</dt>
				<dd>
					<ol>
						<li>按照从上至下、从左到右的视觉顺序书写HTML结构。</li>
						<li>为了能更快的将主要内容显示出来，将重要内容的HTML结构放在同级的最前面。</li>
						<li>对Html中的每一个块级元素都另起一行，每一行都使用Tab缩进对齐，Tab缩进使用<em>4个空格</em>的距离。</li>
						<li>Html模块之间<em>使用注释说明</em>，方便其余人员了解。</li>
						<li>对于一个语义化的内部标签，应避免使用多个重复的className。
							<p>如：&lt;ul class="item-list"&gt;&lt;li class="item"&gt;&lt;/li&gt;&lt;li class="item"&gt;&lt;/li&gt;&lt;/ul&gt;，应把li的className去掉</p>
						</li>
						<li>尽可能使用严格的xhtml strict标准，Html元素必须被<em>正确地嵌套</em>，比如内联元素不能包含块级元素等。</li>
						<li>Html元素<em>必须闭合</em>。</li>
						<li>标签名必须用<em>小写字母</em>。</li>
						<li>Html文档必须拥有根元素。</li>
						<li>属性和值全部小写，每个属性都必须有一个值，每个值必须加<em>双引号</em>。</li>
					</ol>
				</dd>
				<dt>命名</dt>
				<dd>
					<p>id 和 class 命名总规则以<em>内容优先</em>，规则名称中不应该包含颜色（red/blue）、定位（left/right）等与具体显示效果相关的信息。应该用意义命名，而不是样式显示结果命名。</p>
					<p>id 和 class 名称中只能包含英文字母、数字和连字符，<em>严禁使用数字和下划线"_"开头</em>，避免class与id重名。</p>
					<p>id 和 class 尽量用<em>英文单词命名</em>，多个单词的命名用<em>连字符连接</em>，如 hot-banner，确实找不到合适的单词时，可以考虑使用内容的中文拼音，比如tuangou，meishi，jipiao, lvyou等携程特色词汇。 除了内容名称和特色词汇，其它情况下都严禁使用拼音。</p>
					<p>在不影响语义的情况下，id 和 class 名称中可以适当采用英文单词缩写，比如 col, nav, hd, bd, ft 等，但切忌自造缩写。</p>
					<p>不允许通过1、2、3等序号进行命名</p>
				</dd>
				<dt>语义化</dt>
				<dd>
					<p>内容决定使用的语义标签。</p>
					<p>在网页中内容都需要某种特定的Html标签来承载，也就是我们常常提到的Html语义化。如果已经可以满足视觉和语义的要求，那么就不要有额外的冗余的结构。</p>
					<p>Table的语义表明它并不适合用于布局，但是表格形式的数据，还是使用table比较合适。在合适的地方使用具有语义的Html标签代替table布局，可以使HTML更具灵活性，也方便利用CSS控制。</p>
					<p>在说明性标签上加入描述文字，如给a链接添加title属性，img添加alt属性等。</p>
					<p>同时在特定使用背景图的标签中添加文字说明，如网页logo，并用css使其不可见，有利于搜索引擎抓取内容，或在css失效的情况下看到文字信息。</p>
					<p><a href="html-label.html" title="参考页面">参考页面</a></p>
				</dd>
			</dl>
		</div>
		<div class="main">
			<dl>
				<dt>CSS文件的分类和引用顺序</dt>
				<dd>
					<p>通常，一个项目我们只引用一个CSS，但是对于较大的项目，我们需要把CSS文件进行分类。</p>
					<p>较大项目可以将CSS文件分成“<em>通用样式</em>(公共样式)”、“<em>业务样式</em>(频道样式)，并以此顺序引用（按需求决定是否添加版本号）。</p>
					<p>公共样式——包括了以下几个部分：“<em>标签的重置和设置默认值</em>”、“<em>统一调用背景图和清除浮动或其他需统一处理的长样式</em>”、“<em>网站通用布局</em>”、“<em>通用模块和其扩展</em>”、“<em>元件和其扩展</em>”、“<em>功能类样式</em>”。</p>
					<p>业务样式——当某个栏目或页面的样式与网站整体差异较大或者维护率较高时，可以独立引用一个样式：“<em>特殊的布局、模块和元件及扩展</em>”、“<em>特殊的功能、颜色和背景</em>”，也可以是某个大型控件或模块的独立样式。</p>
					<ul>
						<li>&lt;link href="assets/css/global.css" rel="stylesheet" type="text/css"/&gt;</li>
						<li>&lt;link href="assets/css/index.css" rel="stylesheet" type="text/css"/&gt;</li>
					</ul>
				</dd>
				<dt>CSS文件内部的分类及其顺序</dt>
				<dd>	
					<p><em>重置（reset）</em>和<em>基础（base）</em>：消除默认样式和浏览器差异，并设置部分标签的初始样式，以减少后面的重复劳动！根据网站需求设置！</p>
					<p><em>统一处理</em>：建议在这个位置统一调用清除浮动（这里指通用性较高的布局、模块、元件内的清除）和背景图（这里指多个布局或模块或元件共用的图）等使用率较高的样式，按需使用，通常这些选择器具有固定样式表现等统一设置处理的样式！</p>
					<p><em>布局（grid）</em>：将页面分割为几个大块，通常有头部、主体、主栏、侧栏、尾部等！</p>
					<p><em>模块（module）</em>：通常是一个语义化的可以重复使用的较大的整体！比如导航、登录、注册、各种列表、评论、搜索等！</p>
					<p><em>元件（unit）</em>：通常是一个不可再分的较为小巧的个体，通常被重复用于各种模块中！比如按钮、输入框、loading、图标等！</p>
				</dd>
				<dt>书写规范</dt>
				<dd>	
					<p>每一个属性值后必须添加分号，不管是不是最后一个声明。</p>
					<p>除16进制颜色和字体设置外，CSS文件中的所有的代码都应该小写。</p>
					<p>合并margin、padding、border的-left/-top/-right/-bottom等可以缩写的属性，尽量使用缩写形式 。</p>
					<p>选择器应该在满足功能的基础上尽量简短，减少选择器嵌套，查询消耗，但是一定要避免覆盖全局样式设置。</p>
					<p>注意选择器的性能，不要使用低性能的选择器。</p>
					<p>禁止在非reset的css中使用*选择符。</p>
					<p>除非必须，否则，一般有class或id的，不需要再写上元素对应的tag。</p>
					<p>0后面不需要单位，比如0px可以省略成0，0.8px可以省略成.8px。</p>
					<p>如果可以，颜色尽量用三位字符表示，例如#AABBCC写成#ABC 。</p>
				</dd>
				<dt>其他规范</dt>
				<dd>
					<p>目前不是由我们负责全站级CSS和通用CSS库，所以不要轻易改动全站级CSS和通用CSS库。</p>
					<p>避免在CSS中使用expression。</p>
					<p>避免过小的背景图片平铺。</p>
					<p>层级(z-index)必须清晰明确，页面弹窗、气泡为最高级，下来是普通区块。区块展开、弹出为当前父层级上个位增加，禁止层级间盲目攀比。</p>
					<p>背景图片请尽可能使用sprite技术, 减小http请求, 考虑到多人协作开发, sprite按照模块、业务、页面来划分均可。</p>
				</dd>
				<dt>优化方案</dt>
				<dd>
					<ul>
						<li>
							<h3>值缩写</h3>
							<p>缩写值可以减少CSS文件大小，并增加可读性和可维护性。</p>
							<p>但并非所有的值都必须缩写，因为当一个属性的值缩写时，总是会将所有项都设置一遍，而有时候我们不希望设置值里的某些项。</p>
							<p>比如我们用下面这个样式来让某个定宽的容器水平居中，我们要的只是left和right，而top和bottom不是这个样式要关心的（如果设置了反倒会影响其他样式在这个容器上的使用），所以这时我们就不需要缩写</p>
							<pre>.f-mgha{margin-left:auto;margin-right:auto;}</pre>
							<p>比如下面这个模块的样式设置，我们确实需要设置padding的所有项，于是我们就可以采用缩写</p>
							<pre>.m-link{padding:6px 12px;}</pre>
						</li>
						<li>
							<h3>选择器合并</h3>
							<p>即CSS选择器组合，可以一次定义多个选择器，为你节省很多字节和宝贵时间。</p>
							<p>通常我们会将定义相同的或者有大部分属性值相同（确实是因为相关而相同）的一系列选择器组合到一起（采用逗号的方法）来统一定义。</p>
							<pre>.g-hd:after,.g-bd:after,.g-ft:after {display:block; visibility:hidden; clear:both; height:0; content:".";}</pre>
							<pre>.g-hd,.g-bd,.g-ft{zoom:1;}</pre>
							<pre>.m-logo,.m-help,.m-list li,.u-tab li,.u-tab li a {background:url(../images/sprite.png) no-repeat 9999px 9999px;}</pre>
							<pre>.m-logo{background-position:0 0;}</pre>
						</li>
					</ul>
				</dd>
				<dt>图片本身的优化：</dt>
				<dd>
					<p>图像质量要求和图像文件大小决定你用什么格式的图片，用较小的图片文件呈现较好的图像质量。</p>
					<p>当图片色彩过于丰富且无透明要求时，建议采用jpg格式并保存为较高质量。</p>
					<p>当图片色彩过于丰富又有透明或半透明要求或阴影效果时，建议采用png24格式，并对IE6进行png8退化（或在不得已情况下使用滤镜）。</p>
					<p>当图片色彩不太丰富时无论有无透明要求，请采用png8格式，大多数情况下建议采用这种格式。</p>
					<p>当图片有动画时，只能使用gif格式。</p>
					<p>你可以使用工具对图片进行再次压缩，但前提是不会影响色彩和透明。</p>
					<ul>
						<li>
							<h3>多张图片的合并：</h3>
							<p>单个图标之间必须保留空隙，空隙大小由容器大小及显示方式决定。这样做的好处是既考虑了“容错性”又提高了图片的可维护性。</p>
							<p>图标的排列方式，也由容器大小及显示方式决定。排列方式分为以下几种：横向排列（容器宽度有限）、纵向排列（容器高度有限）、斜线排列（容器宽高不限），靠左排列（容器背景居左）、靠右排列（容器背景居右）、水平居中排列（容器背景水平居中）、垂直居中排列（容器背景垂直居中）。</p>
							<p>为保证多次修改后的图片质量，建议保留一份PSD原始图，修改和添加都在PSD中进行，最后导出png。</p>
						</li>
						<li>
							<h3>分类合并：</h3>
							<p>并不是把所有的图标都合并在一张图片里就是最好的，除了要控制图片大小之外还要注意以下方法。</p>
							<p>按照图片排列方式，把排列方式一样的图片进行合并，便于样式控制。</p>
							<p>按照模块或元件，把同属于一个模块或元件的图片进行合并，方便模块或元件的维护。</p>
							<p>按照图片大小，把大小一致或差不多的图片进行合并，可充分利用图片空间。</p>
							<p>按照图片色彩，把色彩一致或差不多的图片进行合并，保证合并后图片的色彩不过于丰富，可防止色彩失真。</p>
						</li>
					</ul>
				</dd>
				<dt>Hack的避免</dt>
				<dd>
					<p>当避免的代价较大时，可以使用Hack而不避免，比如你需要增加很多HTML或多写很多CSS时会得不偿失。</p>
					<p>丰富的实战经验可以帮助你了解那些常见问题并用多种不同的思路来避免它，所以经验和思维方法在这里显得很重要。</p>
					<p>根据你自己的能力来解决Hack的问题，不建议用一个自己都没有把握的方法来避免Hack，因为也许这个方法本身存在没有发现的问题。</p>
				</dd>
				<dt>如果CSS可以做到，就不要使用JS</dt>
				<dd>
					<p>用CSS控制交互或视觉的变化，JS只需要更改className。</p>
					<p>利用CSS一次性更改多个节点样式，避免多次渲染，提高渲染效率。</p>
					<p>如果你的产品允许不兼容低版本浏览器，那么部分动画实现可以交给CSS。</p>
				</dd>
			</dl>
		</div>
		<div class="main">
			<dt>目录组织和文件命名规范</dt>
			<dd>
				<p>目录存放项目资源文件，项目名称用<em>项目英文名</em>或<em>项目代号</em>命名，多个单词用下划线（_）分隔，全部<em>小写</em>。</p>
				<p>项目文件需要区分版本时，用 <em>_vN</em> 区别，比如giftcard_v58.html，giftcard_v58.css，giftcard_v58.jpg。</p>
				<p>如果遇到大项目改版需求，同样可以用 <em>_vN</em> 新建文件夹区别，比如payment(支付一期)，payment_v2(支付二期)。</p>
				<p><em>老项目修改，请在对应的旧文件夹进行增删改查</em>。</p>
			</dd>
			<dt>Html 目录</dt>
			<dd>
				<img src="img/html.png" width="468" height="390" />
				<p>Html文件统一放置在：\UISolution\UISolution\website\_prototype\项目名XXX\ 目录下。</p>
				<p>如果是Web端新项目，在\UISolution\UISolution\website\_prototype\code_pub\cn\ 下新建对应的文件夹放置html。</p>
				<p>如果是H5新项目，在\UISolution\UISolution\website\_prototype\h5\ 下新建对应的文件夹放置html。</p>
				<p>Code_puc和code_packet为普通项目文件，h5为移动端项目文件。</p>
			</dd>
			<dt>Css 目录</dt>
			<dd>
				<img src="img/css.jpg" width="462" height="268" />
				<p>Css文件统一放置在：\UISolution\UISolution\website\_webresource_\styles\项目名XXX\ 目录下。</p>
			</dd>
			<dt>Img 目录</dt>
			<dd>
				<img src="img/css.jpg" width="446" height="306" />
				<p>Img文件统一放置在：\UISolution\UISolution\website\_pic_\项目名XXX\ 目录下。</p>
				<p>如果存在临时文件可以在相应文件下创建<em>temp</em>目录，用来存放演示图片，与css所需图片分离。</p>
			</dd>
		</div>
		<div class="main">
			<dt>项目流程</dt>
			<dd>
				<p>一般的项目流程是 交互——》视觉——》前端——》研发，对于前端来说上游对应视觉，最直接的交接就是PSD文件。</p>
				<p>前端人员进行代码编写是基于设计稿，同时也需要对照原型PRD文件，如果编写过程中发现设计稿和原型PRD不符或者是缺少什么时，需要及时和产品，视觉或者产品经理沟通，及时在原型PRD和设计稿上添加修改。(<em>开发好的原型先让交互和视觉review后再提交给产品,产品确认后由产品通知研发进行开发</em>)。</p>
				<p>原型开发完成后提交DEV环境，由研发同学自行获取，切忌不可将我们的html+css+img打包发给研发，这是不符合流程的，同时不方便后期维护修改。</p>
				<img src="img/flow.jpg" width="998" height="624" />
			</dd>
		</div>
	</div>
	<script type="text/javascript" src="js/jquery.js"></script>
	<script type="text/javascript" src="js/guide.js"></script>
</body>
</html>